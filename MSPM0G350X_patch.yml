_svd: "./MSPM0G350X.svd"

_modify:
  "DEBUGSS":
    groupName: "DEBUG"
  "FLASHCTL":
    groupName: "FLASH"

_delete:
  - "ADC?_SVT"
  - "SYSMEM"
  - "FLASH"

"SYSCTL":
  _delete:
    - "SYSCTL_MGMT*"
  _strip:
    - "SYSCTL_"

"I2C?":
  _modify:
    _clusters:
      "I2C?_GPRCM\\[%s\\]":
        dim: 4
      "I2C?_CPU*\\[%s\\]":
        dim: 6
      "I2C?_DMA_TRIG?\\[%s\\]":
        dim: 6
      "I2C?_CONTROLLER\\[%s\\]":
        dim: 12
      "I2C?_TARGET\\[%s\\]":
        dim: 11
  _clusters:
    "I2C*":
      _strip:
        - "I2C*_"
  _strip:
    - "I2C*_"

"DEBUGSS":
  _strip:
    - "DEBUGSS_"

"MATHACL":
  _strip:
    - "MATHACL_"
  _clusters:
    "MATHACL*":
      _strip:
        - "MATHACL_"

"CPUSS":
  _strip:
    - "CPUSS_"
  _clusters:
    "CPUSS*":
      _strip:
        - "CPUSS_"

"DAC?":
  _strip:
    - "DAC?_"
  _clusters:
    "DAC*":
      _strip:
        - "DAC?_"
  "CTL0":
    "RES":
      _replace_enum:
        "BITS_8": [0, "8-bit resolution"]
        "BITS_12": [1, "12-bit resolution"]
  "CTL3":
    "STIMCONFIG":
      _replace_enum:
        "SPS_500": [0, "Trigger rate is 500 sps (clock divide value is 4000)"]
        "SPS_1K": [1, "Trigger rate is 1 ksps (clock divide value is 2000)"]
        "SPS_2K": [2, "Trigger rate is 2 ksps (clock divide value is 1000)"]
        "SPS_4K": [3, "Trigger rate is 4 ksps (clock divide value is 500)"]
        "SPS_8K": [4, "Trigger rate is 8 ksps (clock divide value is 250)"]
        "SPS_16K": [5, "Trigger rate is 16 ksps (clock divide value is 125)"]
        "SPS_100K": [6, "Trigger rate is 100 ksps (clock divide value is 20)"]
        "SPS_200K": [7, "Trigger rate is 200 ksps (clock divide value is 10)"]
        "SPS_500K": [8, "Trigger rate is 500 ksps (clock divide value is 4)"]
        "SPS_1M": [9, "Trigger rate is 1 Msps (clock divide value is 2)"]

"GPIO?":
  _strip:
    - "GPIO?_"
  _clusters:
    "GPIO*":
      _strip:
        - "GPIO?_"

"ADC?":
  _strip:
    - "ADC?_"
  _clusters:
    "ADC*":
      _strip:
        - "ADC?_"
  _add:
    "FIFODATA":
      addressOffset: 0x1160
      description: "FIFO Data Register"
      size: 32
      access: "read-only"
    "MEMRES%s":
      addressOffset: 0x1280
      dim: 12
      dimIncrement: 4
      dimIndex: 0-11
      description: "Memory Result Register"
      size: 32
      access: "read-only"
      fields:
        "DATA":
          description: "MEMRES result register.\
            If DF = 0, unsigned binary:\
            The conversion results are right aligned. In 10 and 8 bit modes, the unused MSB bits are forced to 0.\
            If DF = 1, 2s-complement format:\
            The conversion results are left aligned. In 10 and 8 bit modes, the unused LSB bits are forced to 0.\
            The data is stored in the right-justified format and is converted to the left-justified 2s-complement format during read back."
          bitOffset: 0x0
          bitWidth: 0x10

"TRNG":
  _strip:
    - "TRNG_"
  _clusters:
    "TRNG*":
      _strip:
        - "TRNG_"

"RTC":
  _strip:
    - "RTC_"
  _clusters:
    "RTC*":
      _strip:
        - "RTC_"

"CANFD?":
  _strip:
    - "CANFD?_"
  "CANFD*":
    _strip:
      - "CANFD?_"
  _clusters:
    "CANFD*":
      _strip:
        - "CANFD?_"
        - "MCAN_"
      _clusters:
        "?~CANFD?_*":
          _strip:
            - "CANFD?_"
          _clusters:
            "?~CANFD?_*":
              _strip:
                - "CANFD?_"
                - "MCANSS_"

"WWDT?":
  _strip:
    - "WWDT?_"
  _clusters:
    "WWDT?*":
      _strip:
        - "WWDT?_"

"SPI?":
  _strip:
    - "SPI?_"
  _clusters:
    "SPI?*":
      _strip:
        - "SPI?_"

"EVENTLP":
  _strip:
    - "EVENTLP_"
  _clusters:
    "EVENTLP*":
      _strip:
        - "EVENTLP_"

"IOMUX":
  _strip:
    - "IOMUX_"

"CRC":
  _strip:
    - "CRC_"
  _clusters:
    "CRC*":
      _strip:
        - "CRC_"
"DMA":
  _strip:
    - "DMA_"
  _clusters:
    "DMA*":
      _strip:
        - "DMA_"

"WUC":
  _strip:
    - "WUC_"

"VREF":
  _strip:
    - "VREF_"
  _clusters:
    "VREF*":
      _strip:
        - "VREF_"

"OPA?":
  _strip:
    - "OPA?_"
  _clusters:
    "OPA?*":
      _strip:
        - "OPA?_"

"AES":
  _strip:
    - "AES_"
  _clusters:
    "AES*":
      _strip:
        - "AES_"

"UART?":
  _strip:
    - "UART?_"
  _clusters:
    "UART*":
      _strip:
        - "UART?_"

"COMP?":
  _strip:
    - "COMP?_"
  _clusters:
    "COMP*":
      _strip:
        - "COMP?_"

"FLASHCTL*":
  _strip:
    - "FLASHCTL*"
  _modify:
    STATMODE:
      fields:
        BANKNOTINRD:
          bitOffset: 0
          bitWidth: 5

"TIM*":
  _strip:
    - "TIM??_"
    - "TIM???_"
  # modify cluster attributes
  _modify:
    _clusters:
      "TIM*_COUNTERREGS\\[%s\\]":
        dim: "9"
        _strip:
          - "TIM??_"
          - "TIM???_"

  _clusters:
    "TIM*":
      # strip prefixes that match TIMA0 and TIMG12
      _strip:
        - "TIM??_"
        - "TIM???_"
    "TIM*_COUNTERREGS\\[%s\\]":
      "IFCTL_*":
        "FP":
          _replace_enum:
            "PER_3": [0, "divions factor of 3"]
            "PER_5": [1, "divions factor of 5"]
            "PER_8": [2, "divions factor of 8"]
